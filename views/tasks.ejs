<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tasks | PlanIT</title>
  <link rel="shortcut icon" href="assets/pngegg.png" type="image/x-icon">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="css/style4.css">
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-200 dark:bg-gray-300">
  <!-- Navbar -->
  <%- include("components/navbar.ejs") %>
  <!--main content starts-->
  <main class="flex flex-col h-full w-screen px-1">
    <form method="post" action="add-task" class="flex items-center justify-center sm:justify-center sm:items-center space-x-5 px-3 py-2 my-2"
      id="taskadderarea">
      <input type="text" placeholder="Add note to Tasks. Click add to save" name="task" maxlength="100" minlength="1" class="sm:w-1/2 px-5 py-2 rounded-lg border-black active:border focus:outline-none focus:outline-blue-400" required>

      <button type="submit" id="reminderadd" class="px-4 py-2 bg-green-600 rounded-lg mr-3 text-white transform transition-all ease-in-out duration-300 hover:bg-green-700 active:translate-y-1 my-1">Add</button>
    </form>
    <hr class="bg-gray-400 rounded-md h-0.5">
    <section class="my-5" id="currenttaskarea">
      <div id="taskarea" class="flex flex-col space-y-2 items-center text-center">
        <p class="flex text-start w-full sm:w-screen px-2 text-gray-500">Current Tasks:</p>
        <% tasks.forEach((task) => { %>
          <% if (!task.isdone) { %>
            <div class="task mx-auto w-full outline-blue-500 rounded-md px-2 sm:px-5 py-2 font-serif bg-blue-200 my-5 flex flex-col sm:flex-row space-x-3 space-y-3 sm:space-x-4 items-center sm:justify-between">
              <p class="sm:flex-grow sm:text-left sm:px-4 cursor-pointer"><%= task.task %></p>
              <div class="flex flex-wrap">
                <a class="done-btn text-green-600 p-2" href="/done-task?id=<%= task.id %>">Done</a>
                <a class="delete-btn text-red-600 p-2" href="/delete-task?id=<%= task.id %>">Delete</a>
                <div class="p-2 text-pink-800">Select Priority</div>
              </div>
            </div>
          <% }
        }) %>
      </div>
    </section>

    <hr class="bg-gray-400 rounded-md h-0.5">
    <section id="completedtaskarea my-3">
      <div id="donetask" class="flex flex-col items-center text-center space-y-2">
        <p class="flex text-start w-screen text-gray-500">Completed Tasks: </p>
        <% tasks.forEach((task) => { %>
          <% if (task.isdone) { %>
            <div class="donetask mx-auto w-full text-left outline-blue-500 rounded-md px-2 sm:px-5 py-2 font-serif text-gray-300 bg-green-100 my-5 flex flex-col sm:flex-row space-x-3 space-y-3 sm:space-x-4 items-center sm:justify-between">
              <p class="sm:flex-grow sm:text-left sm:px-4 cursor-pointer line-through"><%= task.task %></p>
              <div class="flex flex-wrap">
                <a class="delete-btn text-red-600 p-2" href="/delete-task?id=<%= task.id %>">Delete</a>
                </div>
            </div>
                <% }
        }) %>
      </div>
    </section>
    <hr class="h-0.5 bg-gray-400 rounded-md my-4">
  </main>
  <!--footer starts-->
  <%- include("components/footer.ejs") %>
  <!--footer ends-->

  <script src="js/script4.js"></script>
  <script src="js/script1.js"></script>
</body>

</html>